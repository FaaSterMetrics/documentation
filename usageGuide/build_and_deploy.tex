\documentclass[../main.tex]{subfiles}
\begin{document}

\section{Build and Deploy}\label{sec:buildanddeploy}
In this section, the build and deployment process of an experiment is explained. Please ensure that your `experiment.json` file is configured correctly (TODO: cref). All required providers need to be set up correctly (\Cref{sec:providersetup}).

\subsection{Build}\label{sec:build}
Before deploying the experiment to the different cloud providers, it is essential to build the application. This step compiles the JavaScript files and generates the deployment artifacts. These artifacts are zip files containing the compiled code and the assets. They are needed in the following deployment step. For compiling the JavaScript files, ncc\footnote{https://github.com/vercel/ncc} from vercel\footnote{https://vercel.com/} is used and allows us to build a single JavaScript file containing the function code and all npm dependencies.\\
To build your experiment run \texttt{npm run build <experiment name>}.

\subsection{Deploy}\label{sec:deploy}
If the experiment is now successfully built, the next step is to deploy the functions and services to the cloud providers. A service is for example a key-value database like redis\footnote{https://redis.io/}. \\
To interact with the different cloud providers, we use `terraform`\footnote{https://www.terraform.io/} from HashiCorp\footnote{https://www.hashicorp.com/}. Terraform is a cloud infrastructure automation tool that allows us to create, update, or delete cloud resources with declarative configuration files. This functionality is essential in terms of reproducibility and predictability.\\
The developed deployment script detects the cloud providers that need to be provisioned by `terraform` and executes the matching `terraform` configuration files.\\
To deploy your experiment run \texttt{npm run deploy <experiment name>}.
\end{document}
